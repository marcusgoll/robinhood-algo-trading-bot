# Ship Report

**Date**: [YYYY-MM-DD HH:MM]
**Feature**: [NNN-feature-name]
**Phase**: [Staging (feature → staging) / Production (staging → main)]
**Staging PR**: #[NNN] (if applicable)
**Production PR**: #[MMM] (if applicable)
**Tag**: v[X.Y.Z] (production only)

## Deployment Workflow

This report covers:
- [ ] **Phase 1 Only**: Staging deployment (feature → staging)
- [ ] **Phase 2 Only**: Production deployment (staging → main)
- [ ] **Complete Workflow**: Both staging and production phases

---

## Phase 1: Staging Deployment

*Skip this section if shipping directly to production or if already completed*

### Pre-flight Checks (Staging)

- [✅/❌] On feature branch (not main or staging)
- [✅/❌] Working tree clean (no uncommitted changes)
- [✅/❌] /optimize quality gate passed
- [✅/❌] All tasks in tasks.md completed
- [✅/❌] No duplicate release (tag doesn't already exist)

### Staging Pull Request

- **PR**: #[NNN] - [PR title]
- **URL**: [staging-PR-URL]
- **Target**: staging branch
- **CI Checks**: [✅/❌] All passing
- **E2E Tests**: [✅/❌] Passed on staging
- **Review**: [✅/❌] Approved by [@reviewer]
- **Merge Method**: [Squash/Merge/Rebase]
- **Merge Commit**: [commit-sha]

### Staging Deployment

- [✅/❌] Merged to staging at [commit-sha]
- 🚀 **Deployed to staging**:
  - Marketing: https://cfipros-staging.vercel.app
  - App: https://app-staging.cfipros.vercel.app
  - API: https://api-staging.railway.app

### Staging Validation

- **Validation Report**: specs/[NNN-feature]/artifacts/staging-validation-report.md
- **E2E Test Results**: [✅ All Passed / ⚠️ N Failed / ❌ Critical Failures]
- **Manual Testing**: [✅/❌] Complete
- **Health Checks**: [✅/❌] All systems operational
- **Ready for Production**: [✅ Yes / ❌ No - blockers listed below]

**Staging Blockers** (if any):
- [ ] [Blocker 1]
- [ ] [Blocker 2]

---

## Phase 2: Production Deployment

*Skip this section if only deploying to staging*

### Pre-flight Checks (Production)

- [✅/❌] On staging branch
- [✅/❌] Working tree clean
- [✅/❌] /optimize quality gate passed
- [✅/❌] Staging validation passed (see Phase 1 above)
- [✅/❌] No critical blockers remaining

### Production Pull Request

- **PR**: #[MMM] - [PR title]
- **URL**: [production-PR-URL]
- **Target**: main branch (production)
- **CI Checks**: [✅/❌] All passing
- **Smoke Tests**: [✅/❌] Passed on production
- **Review**: [✅/❌] Approved by [@senior-reviewer]
- **Merge Method**: [Squash/Merge/Rebase]
- **Merge Commit**: [commit-sha]

### Production Deployment

- [✅/❌] Merged to main at [commit-sha]
- [✅/❌] Tag created: v[X.Y.Z]
- [✅/❌] GitHub release published
- [✅/❌] Release workflow: [status]
- 🚀 **Deployed to production**:
  - Marketing: https://cfipros.com
  - App: https://app.cfipros.com
  - API: https://api.cfipros.com

---

## Version Information

- **Previous Version**: v[X.Y.Z-1]
- **New Version**: v[X.Y.Z]
- **Bump Type**: [MAJOR/MINOR/PATCH]
- **Rationale**: [Reason for version bump]

## CHANGELOG Update

```markdown
## [v[X.Y.Z]] - [YYYY-MM-DD]

### Added
- [Feature/change 1]
- [Feature/change 2]

### Fixed
- [Bug fix 1]

### Changed
- [Update/improvement 1]
```

## Cleanup

- [✅/❌] Local feature branch deleted
- [✅/❌] Remote feature branch deleted
- [✅/❌] NOTES.md updated with Phase 6 checkpoint
- [✅/❌] Worktree removed (if used)

## Metrics

- **Total Commits**: [N]
- **Files Changed**: [N]
- **Lines Added**: +[N]
- **Lines Removed**: -[N]
- **Time to Ship**: [N days from spec to production]
- **Staging Duration**: [N days on staging before production]
- **Development Phases**:
  - Phase 0 (Spec): [N days]
  - Phase 1 (Plan): [N days]
  - Phase 2 (Tasks): [N days]
  - Phase 3 (Implement): [N days]
  - Phase 4 (Analyze): [N days]
  - Phase 5 (Optimize): [N days]
  - Phase 6a (Ship - Staging): [N days]
  - Phase 6b (Ship - Production): [N days]

## Post-Deployment Monitoring

**Key Metrics to Watch**:
- [ ] Error rate in [monitoring-tool]
- [ ] Performance metrics (p95 response time)
- [ ] User feedback/support tickets
- [ ] Feature adoption metrics (if applicable)

**Rollback Plan** (if needed):
```bash
git revert [merge-commit-sha]
git push origin main
git tag -d v[X.Y.Z]
git push origin :refs/tags/v[X.Y.Z]
```

## Next Steps

**If Staging Only (Phase 1 Complete):**
1. ✅ Complete manual validation on staging environment
2. ✅ Fill out staging-validation-report.md
3. ⏳ Monitor staging for [24-48 hours] (optional)
4. 🚀 If validated, run `/ship` from staging branch for Phase 2 (Production)

**If Production (Phase 2 Complete):**
- 🎉 Celebrate the successful production deployment!
- 📊 Monitor production metrics for [24 hours minimum]
- 🔍 Watch for:
  - Error rates in Sentry/PostHog
  - Performance metrics (p95 response time)
  - User feedback/support tickets
- 📝 Document any learnings in DONT_DO.md (if failures occurred)
- 🚀 Start next feature with `\spec-flow`

**Production URLs:**
- Marketing: https://cfipros.com
- App: https://app.cfipros.com
- API: https://api.cfipros.com/docs

**Staging URLs** (for future reference):
- Marketing: https://cfipros-staging.vercel.app
- App: https://app-staging.cfipros.vercel.app
- API: https://api-staging.railway.app/docs

---
*Generated by `/ship` command*

