# Ship Report

**Date**: [YYYY-MM-DD HH:MM]
**Feature**: [NNN-feature-name]
**Phase**: [Staging (feature â†’ staging) / Production (staging â†’ main)]
**Staging PR**: #[NNN] (if applicable)
**Production PR**: #[MMM] (if applicable)
**Tag**: v[X.Y.Z] (production only)

## Deployment Workflow

This report covers:
- [ ] **Phase 1 Only**: Staging deployment (feature â†’ staging)
- [ ] **Phase 2 Only**: Production deployment (staging â†’ main)
- [ ] **Complete Workflow**: Both staging and production phases

---

## Phase 1: Staging Deployment

*Skip this section if shipping directly to production or if already completed*

### Pre-flight Checks (Staging)

- [âœ…/âŒ] On feature branch (not main or staging)
- [âœ…/âŒ] Working tree clean (no uncommitted changes)
- [âœ…/âŒ] /optimize quality gate passed
- [âœ…/âŒ] All tasks in tasks.md completed
- [âœ…/âŒ] No duplicate release (tag doesn't already exist)

### Staging Pull Request

- **PR**: #[NNN] - [PR title]
- **URL**: [staging-PR-URL]
- **Target**: staging branch
- **CI Checks**: [âœ…/âŒ] All passing
- **E2E Tests**: [âœ…/âŒ] Passed on staging
- **Review**: [âœ…/âŒ] Approved by [@reviewer]
- **Merge Method**: [Squash/Merge/Rebase]
- **Merge Commit**: [commit-sha]

### Staging Deployment

- [âœ…/âŒ] Merged to staging at [commit-sha]
- ğŸš€ **Deployed to staging**:
  - Marketing: https://cfipros-staging.vercel.app
  - App: https://app-staging.cfipros.vercel.app
  - API: https://api-staging.railway.app

### Staging Validation

- **Validation Report**: specs/[NNN-feature]/artifacts/staging-validation-report.md
- **E2E Test Results**: [âœ… All Passed / âš ï¸ N Failed / âŒ Critical Failures]
- **Manual Testing**: [âœ…/âŒ] Complete
- **Health Checks**: [âœ…/âŒ] All systems operational
- **Ready for Production**: [âœ… Yes / âŒ No - blockers listed below]

**Staging Blockers** (if any):
- [ ] [Blocker 1]
- [ ] [Blocker 2]

---

## Phase 2: Production Deployment

*Skip this section if only deploying to staging*

### Pre-flight Checks (Production)

- [âœ…/âŒ] On staging branch
- [âœ…/âŒ] Working tree clean
- [âœ…/âŒ] /optimize quality gate passed
- [âœ…/âŒ] Staging validation passed (see Phase 1 above)
- [âœ…/âŒ] No critical blockers remaining

### Production Pull Request

- **PR**: #[MMM] - [PR title]
- **URL**: [production-PR-URL]
- **Target**: main branch (production)
- **CI Checks**: [âœ…/âŒ] All passing
- **Smoke Tests**: [âœ…/âŒ] Passed on production
- **Review**: [âœ…/âŒ] Approved by [@senior-reviewer]
- **Merge Method**: [Squash/Merge/Rebase]
- **Merge Commit**: [commit-sha]

### Production Deployment

- [âœ…/âŒ] Merged to main at [commit-sha]
- [âœ…/âŒ] Tag created: v[X.Y.Z]
- [âœ…/âŒ] GitHub release published
- [âœ…/âŒ] Release workflow: [status]
- ğŸš€ **Deployed to production**:
  - Marketing: https://cfipros.com
  - App: https://app.cfipros.com
  - API: https://api.cfipros.com

---

## Version Information

- **Previous Version**: v[X.Y.Z-1]
- **New Version**: v[X.Y.Z]
- **Bump Type**: [MAJOR/MINOR/PATCH]
- **Rationale**: [Reason for version bump]

## CHANGELOG Update

```markdown
## [v[X.Y.Z]] - [YYYY-MM-DD]

### Added
- [Feature/change 1]
- [Feature/change 2]

### Fixed
- [Bug fix 1]

### Changed
- [Update/improvement 1]
```

## Cleanup

- [âœ…/âŒ] Local feature branch deleted
- [âœ…/âŒ] Remote feature branch deleted
- [âœ…/âŒ] NOTES.md updated with Phase 6 checkpoint
- [âœ…/âŒ] Worktree removed (if used)

## Metrics

- **Total Commits**: [N]
- **Files Changed**: [N]
- **Lines Added**: +[N]
- **Lines Removed**: -[N]
- **Time to Ship**: [N days from spec to production]
- **Staging Duration**: [N days on staging before production]
- **Development Phases**:
  - Phase 0 (Spec): [N days]
  - Phase 1 (Plan): [N days]
  - Phase 2 (Tasks): [N days]
  - Phase 3 (Implement): [N days]
  - Phase 4 (Analyze): [N days]
  - Phase 5 (Optimize): [N days]
  - Phase 6a (Ship - Staging): [N days]
  - Phase 6b (Ship - Production): [N days]

## Post-Deployment Monitoring

**Key Metrics to Watch**:
- [ ] Error rate in [monitoring-tool]
- [ ] Performance metrics (p95 response time)
- [ ] User feedback/support tickets
- [ ] Feature adoption metrics (if applicable)

**Rollback Plan** (if needed):
```bash
git revert [merge-commit-sha]
git push origin main
git tag -d v[X.Y.Z]
git push origin :refs/tags/v[X.Y.Z]
```

## Next Steps

**If Staging Only (Phase 1 Complete):**
1. âœ… Complete manual validation on staging environment
2. âœ… Fill out staging-validation-report.md
3. â³ Monitor staging for [24-48 hours] (optional)
4. ğŸš€ If validated, run `/ship` from staging branch for Phase 2 (Production)

**If Production (Phase 2 Complete):**
- ğŸ‰ Celebrate the successful production deployment!
- ğŸ“Š Monitor production metrics for [24 hours minimum]
- ğŸ” Watch for:
  - Error rates in Sentry/PostHog
  - Performance metrics (p95 response time)
  - User feedback/support tickets
- ğŸ“ Document any learnings in DONT_DO.md (if failures occurred)
- ğŸš€ Start next feature with `\spec-flow`

**Production URLs:**
- Marketing: https://cfipros.com
- App: https://app.cfipros.com
- API: https://api.cfipros.com/docs

**Staging URLs** (for future reference):
- Marketing: https://cfipros-staging.vercel.app
- App: https://app-staging.cfipros.vercel.app
- API: https://api-staging.railway.app/docs

---
*Generated by `/ship` command*

